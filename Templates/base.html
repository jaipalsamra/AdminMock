<!DOCTYPE html>
<html lang="en" class="">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!--------------------------------------------------------------------------------------------------------->
<!--TAILWIND CACHE & BUSTER-->
<!--------------------------------------------------------------------------------------------------------->

    <script src="https://cdn.tailwindcss.com?plugins=forms&v=20250810"></script>
    <script>
        tailwind.config = { darkMode: 'class' }
    </script>

<!--------------------------------------------------------------------------------------------------------->
<!-- SCROLL BAR HIDER -->
<!--------------------------------------------------------------------------------------------------------->

    <style>
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>

    <title>{% block title %}Mock Admin{% endblock %}</title>
</head>

<body class="transition-colors duration-200 bg-gray-100 text-gray-900 dark:bg-gray-900 dark:text-gray-100">

<!--------------------------------------------------------------------------------------------------------->
<!-- BRAND BAR -->
<!--------------------------------------------------------------------------------------------------------->

    <header class="bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-50 transition-colors duration-200">

        <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-center relative">

<!--------------------------------------------------------------------------------------------------------->
<!-- PAGE TITLE POSITIONING -->
<!--------------------------------------------------------------------------------------------------------->

            <div class="text-[28px] font-semibold tracking-wide text-red-600 dark:text-red-400">
                Gousto Admin
            </div>

<!--------------------------------------------------------------------------------------------------------->
<!-- DARK MODE POSITIONING -->
<!--------------------------------------------------------------------------------------------------------->

            <div class="absolute right-4 flex items-center gap-4">
                <span class="text-sm text-gray-500 dark:text-gray-400">v0.1</span>
                <button id="theme-toggle"
                    class="px-2 py-1 text-sm rounded bg-gray-200 dark:bg-gray-700 transition-colors duration-200"
                    title="Toggle theme">
                    <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg"
                        class="h-6 w-6 transition-colors duration-300" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <path d="M9 21h6" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M12 2a7 7 0 00-7 7c0 2.355 1.059 4.438 2.715 5.785A2 2 0 008 16v1a4 4 0 004 4 4 4 0 004-4v-1a2 2 0 00.285-1.215A7.003 7.003 0 0012 2z"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <path id="filament" d="M9 12c.5 1 1.5 1 3 0s2.5-1 3 0" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </button>


            </div>
        </div>

<!--------------------------------------------------------------------------------------------------------->
<!-- CUSTOMER INFO -->
<!--------------------------------------------------------------------------------------------------------->

        {% if customer_info %}
        <div
            class="max-w-5xl mx-auto -mt-2 mb-4 px-5 py-4 rounded-xl bg-gray-100 dark:bg-gray-700/80 shadow-sm ring-1 ring-gray-200 dark:ring-gray-600">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">
                <div class="text-center md:text-left">
                    <div class="text-[11px] uppercase tracking-wider text-gray-500 dark:text-gray-300">Customer</div>
                    <div class="text-base font-semibold text-gray-900 dark:text-gray-100">{{ customer_info.name }}</div>
                </div>

                <div class="text-center md:text-left">
                    <div
                        class="text-[11px] uppercase tracking-wider text-gray-500 dark:text-gray-300 flex items-center justify-center md:justify-start gap-1">
                        <span>GR</span>
                    </div>
                    <div class="flex items-start gap-1">
                        <span class="font-mono font-semibold text-gray-900 dark:text-gray-100">{{ customer_info.gr
                            }}</span>

                        <button class="js-copy-gr ml-1 align-super inline-flex items-center"
                            data-text="{{ customer_info.gr }}" title="Copy GR">
                            <svg xmlns="http://www.w3.org/2000/svg"
                                class="h-4 w-4 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100 transition-colors duration-200"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <!-- Back page -->
                                <rect x="8" y="8" width="12" height="12" rx="2" ry="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <!-- Front page -->
                                <rect x="4" y="4" width="12" height="12" rx="2" ry="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="text-center md:text-left">
                    <div class="text-[11px] uppercase tracking-wider text-gray-500 dark:text-gray-300">Postcode</div>
                    <div class="text-base font-semibold text-gray-900 dark:text-gray-100">{{ customer_info.postcode }}
                    </div>
                </div>

                <div class="text-center md:text-left">
                    <div class="text-[11px] uppercase tracking-wider text-gray-500 dark:text-gray-300">Subscription
                    </div>
                    <div class="text-base font-semibold">
                        {% set status_lower = customer_info.subscription_status|lower %}
                        {% set status_pill_classes =
                        'bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200' if status_lower
                        == 'active' else
                        'bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200' if status_lower ==
                        'paused' else
                        'bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-200' if status_lower == 'cancelled'
                        else
                        'bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100' %}
                        <span class="inline-flex items-center px-2 py-0.5 rounded-full {{ status_pill_classes }}">
                            {{ customer_info.subscription_status|title }}
                        </span>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}

<!--------------------------------------------------------------------------------------------------------->
<!-- HOT BAR -->
<!--------------------------------------------------------------------------------------------------------->

        <nav class="bg-transparent">
            <div class="max-w-5xl mx-auto px-8 -mt-1">
                <div
                    class="rounded-xl bg-gray-100/60 dark:bg-gray-700/90 border border-gray-300 dark:border-gray-700 px-3 py-1 shadow-sm backdrop-blur-sm">
                    {% set tabs = [
                    (url_for('dashboard', gr=selected_gr) if selected_gr else url_for('dashboard'), 'Dashboard',
                    'dashboard'),
                    (url_for('personal', gr=selected_gr) if selected_gr else url_for('personal'), 'Personal',
                    'personal'),
                    (url_for('subscription', gr=selected_gr) if selected_gr else url_for('subscription'),
                    'Subscription',
                    'subscription'),
                    (url_for('orders_page', gr=selected_gr) if selected_gr else url_for('orders_page'), 'Orders',
                    'orders'),
                    (url_for('payments_page', gr=selected_gr) if selected_gr else url_for('payments_page'), 'Payments',
                    'payments'),
                    (url_for('activity_page', gr=selected_gr) if selected_gr else url_for('activity_page'), 'Activity
                    Log',
                    'activity'),
                    (url_for('complaints_page', gr=selected_gr) if selected_gr else url_for('complaints_page'),
                    'Complaint Log',
                    'complaints'),
                    (url_for('messages_page', gr=selected_gr) if selected_gr else url_for('messages_page'), 'Message
                    Log',
                    'messages')
                    ] %}
                    <ul class="flex justify-center gap-2 overflow-x-auto no-scrollbar">
                        {% for href, label, key in tabs %}
                        {% set is_active = (page == key) %}
                        <li class="relative">
                            <a href="{{ href }}" aria-current="{{ 'page' if is_active else 'false' }}"
                                class="inline-flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition
                        focus:outline-none focus:ring-2 focus:ring-blue-500
                        {{ 'bg-white/80 text-gray-900 shadow-sm dark:bg-gray-900/80 dark:text-gray-100'
                           if is_active
                           else
                           'text-gray-600 hover:text-gray-900 hover:bg-white/50 dark:text-gray-300 dark:hover:text-white/90 dark:hover:bg-gray-900/40' }}">
                                {{ label }}
                            </a>
                            {% if is_active %}
                            <span class="absolute bottom-0 left-0 w-full h-[2px] bg-blue-500 rounded-t-lg"></span>
                            {% endif %}
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </nav>
    </header>

<!--------------------------------------------------------------------------------------------------------->
<!-- PAGE CONTENT -->
<!--------------------------------------------------------------------------------------------------------->

    <main class="max-w-7xl mx-auto px-4 py-6">
        {% block content %}{% endblock %}
    </main>

<!--------------------------------------------------------------------------------------------------------->
<!-- DARK MODE TOGGLE -->
<!--------------------------------------------------------------------------------------------------------->
    <script>

        const toggleBtn = document.getElementById('theme-toggle');
        const filament = document.getElementById('filament');
        const htmlEl = document.documentElement;

        function setBulb(isDark) {
            if (isDark) {
                filament.setAttribute('stroke', '#FFD700'); 
            } else {
                filament.setAttribute('stroke', '#4B5563'); 
            }
        }

        if (localStorage.getItem('theme') === 'dark') {
            htmlEl.classList.add('dark');
            setBulb(true);
        } else {
            setBulb(false);
        }

        toggleBtn.addEventListener('click', () => {
            const isDark = htmlEl.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            setBulb(isDark);
        });

    </script>

<!--------------------------------------------------------------------------------------------------------->
<!--TOASTER ANIMATION-->
<!--------------------------------------------------------------------------------------------------------->

    <style>
        .toast {
            position: fixed;
            bottom: 1.25rem;
            right: 1.25rem;
            padding: .5rem .75rem;
            border-radius: .5rem;
            font-size: .875rem;
            z-index: 9999;
            box-shadow: 0 4px 10px rgba(0, 0, 0, .15);
            opacity: 0;
            transform: translateY(12px);
            transition: opacity .25s ease, transform .25s ease;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>

    <script>
        document.addEventListener('click', (e) => {
            const btn = e.target.closest('.js-copy-gr');
            if (!btn) return;

            e.preventDefault();
            const text = btn.getAttribute('data-text') || '';
            navigator.clipboard.writeText(text)
                .then(() => showToast('Copied'))
                .catch(() => showToast('Copy failed'));
        });

        function showToast(message) {
            const t = document.createElement('div');
            t.className = 'toast bg-gray-900 text-white dark:bg-gray-100 dark:text-gray-900';
            t.textContent = message;
            document.body.appendChild(t);
            requestAnimationFrame(() => t.classList.add('show'));
            setTimeout(() => {
                t.classList.remove('show');
                setTimeout(() => t.remove(), 250);
            }, 1400);
        }
    </script>


</body>

</html>